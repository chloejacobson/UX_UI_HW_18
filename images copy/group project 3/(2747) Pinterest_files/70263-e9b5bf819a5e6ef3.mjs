(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[70263],{361259:(e,t,n)=>{n.d(t,{$:()=>c,r:()=>m});var a=n(667294),r=n(829407),i=n(497529),o=n(773285),s=n(425288),p=n(785893);const{Provider:d,useHook:c}=(0,s.Z)("PinRep");function m({children:e}){const[t,n]=(0,a.useState)(!0),[s,c]=(0,a.useState)(!1),m=(0,i.Z)(1000069),{checkExperiment:u}=(0,o.F)();(0,r.Z)((()=>{m.triggerExperimentsForPlacement(1000069);const e=u("web_simplify_pin_grid",{dangerouslySkipActivation:!0}).group.includes("enabled");(async()=>{var t,a,r,i;const o=e?await m.fetchAllExperiences():{};o&&o.payload&&500417===(null===(t=o.payload.experiences)||void 0===t||null===(a=t[1000069])||void 0===a?void 0:a.experience_id)&&null!==(r=o.payload.experiences)&&void 0!==r&&null!==(i=r[1000069])&&void 0!==i&&i.display_data.hide_footer||n(!1),c(!0)})()}));const l=(0,a.useMemo)((()=>({hasSimplifiedPinGridExpLoaded:s,hidePinRepFooter:t})),[s,t]);return(0,p.jsx)(d,{value:l,children:e})}},745760:(e,t,n)=>{n.d(t,{Ch:()=>u,nc:()=>v,a:()=>A,ZP:()=>I,cA:()=>T,li:()=>E,h1:()=>c});var a=n(682492),r=n.n(a),i=n(6637),o=n(594881),s=n(706922);var p=n(385740),d=n(172045);const c=()=>1e6*Date.now(),m=[6945,170],u={3829:"articleImpressions",18:"pinImpressions",3700:"boardImpressions",3803:"searchImpressions",170:"storyImpression",3704:"userImpressions"},l=[4700,4701,4702,4703,7042,7043],_=e=>function(e){let t=e.length;for(let n=e.length-1;n>=0;n-=1){const a=e.charCodeAt(n);a>127&&a<=2047?t+=1:a>2047&&a<=65535&&(t+=2),a>=56320&&a<=57343&&(n-=1)}return t}(JSON.stringify(e)),g=e=>m.includes(e);let y;function f(){const e=new Date;y?y&&y.getUTCDate()!==e.getUTCDate()&&(y=e,(0,o.Z)()):y=e}function b(e){return e.reduce(((e,t)=>{const n=e.find((a=t,e=>e.view_type===a.viewType&&e.view_parameter===a.viewParameter&&e.event_type===a.eventType&&e.object_id_str===a.objectIdStr&&(0,s.Z)(e.view_data,a.viewData)));var a;if(n&&!g(t.eventType))t.impressionType in n.event_data?n.event_data[t.impressionType].push(t.eventData):n.event_data[t.impressionType]=[t.eventData];else{const n={event_type:t.eventType,view_parameter:t.viewParameter,view_type:t.viewType,view_data:t.viewData,time:c(),component:t.component,clientUUID:(0,d.Z)(),aux_data:t.auxData||{},appState:t.appState,event_data:{[t.impressionType]:g(t.eventType)?{...t.eventData,...(t.eventData||{})[t.impressionType]}:[t.eventData]},object_id_str:t.objectIdStr||void 0};e.push(n)}return e}),[])}const T=e=>{const t=e.event_type,n=l.includes(t),a=(0,p.BE)();return!(!n&&13!==t&&!a)},E=(e,t)=>{const n=e.event_type,a=l.includes(n),i=(0,p.BE)();return a?e:13===n&&e.view_type?(null==t||t({viewType:e.view_type,viewParameter:e.view_parameter,viewData:null!=i&&i.viewData?r()(i.viewData,e.view_data):r()({},e.view_data)}),e):!i||e.view_type&&e.view_parameter?e:{...e,view_type:i.viewType,view_parameter:i.viewParameter,view_data:e.view_data?r()(e.view_data,i.viewData):r()({},i.viewData)}},v=(e,t)=>{var n,a;const r=e.component,i=e.object_id_str,o=e.view_type,s=e.event_type,p=e.appState;return null!==(n=((null===(a=e.event_data)||void 0===a?void 0:a[t])||[]).map((n=>({auxData:e.aux_data,...r?{component:r}:{},eventData:n,...s?{eventType:s}:{},...o?{viewType:o}:{},viewData:e.view_data,viewParameter:e.view_parameter,...i?{objectIdStr:i}:null,impressionType:t,appState:p}))))&&void 0!==n?n:[]},A=(e,t)=>({...e.component?{component:e.component}:{},...e.object_id_str?{objectIdStr:e.object_id_str}:null,...e.view_type?{viewType:e.view_type}:{},eventType:e.event_type,auxData:e.aux_data,impressionType:t,viewData:e.view_data,viewParameter:e.view_parameter,eventData:e.event_data});function I(){let e=[],t=[],n=0;function a(){return[...e,...b(t)]}function r(){e=[],t=[],n=0}function o(e=!1){const t=a();t.length&&(i.Z.create("ContextLogResource",{events:t,report_time:c()}).callCreate({async:!e,showError:!1}),r(),f())}return{flushContextEvents:o,getContextEvents:a,logContextEvent:function({object_id_str:t,...a}){const r={aux_data:{},event_data:{},view_data:{},...a,time:c(),clientUUID:(0,d.Z)(),...t?{object_id_str:t}:null};r.aux_data=function(e){if(!e)return e;const{element:t,eventData:n,component:a,objectId:r,view:i,viewParameter:o,viewData:s,durationNs:p,pairId:d,clientTrackingParams:c,...m}=e;return m}(r.aux_data),n+_(r)>20480&&o(!1),e.push(r),f()},logImpression:function(e){n+_(e)>20480&&o(!1),t.push(e)},resetEventsBuffer:r}}},66743:(e,t,n)=>{n.d(t,{NC:()=>i,Rc:()=>s,WK:()=>d,X9:()=>r,b9:()=>a,f9:()=>p,gu:()=>o});const a="pin-builder-font-faces",r="system-font-faces",i="pin-builder-education-font-faces",o="licensed",s="system",p="brand",d=4},56528:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(6637);const r=e=>{const t=a.Z.create("ApiResource",{url:"/v3/users/password/",data:e});return e.old?t.callCreate({showError:!1}):t.callUpdate({showError:!1})}},584992:(e,t,n)=>{n.d(t,{Z:()=>I});var a=n(667294),r=n(425288),i=n(198462),o=n(729524),s=n(860273),p=n(169213),d=n(358864),c=n(558775),m=n(505771),u=n(985271),l=n(383434),_=n(543059),g=n(453821),y=n(638089),f=n(607150),b=n(790348);const T=(0,l.X)("PwtStopwatch"),E=(e,t)=>{if(u.Z){if("start"===t.type&&!e.isTiming){const{name:n,startTime:a,navigationType:r}=t;return(0,b.A9)(`TIMING.${n}`),{isTiming:!0,name:n,isSampled:t.isSampled,startTime:"number"==typeof a?a:u.Z.now(),metricId:{type:"stopwatch",name:n,navigationType:r},pwtStaticContext:t.pwtStaticContext,annotations:e.annotations,binaryAnnotations:e.binaryAnnotations,spans:e.spans,traceId:e.traceId,spanNameUpdates:e.spanNameUpdates}}if(!e.isTiming){if(!t.bypassIsTimingCheck){const n=t.name||e.name;return T("ignoring action - stopwatch is not actively timing",t),(0,b.A9)(`WARN.${n}.noTiming.${t.type}`),e}T("allowing action while stopwatch is not actively timing (bypassIsTimingCheck is set to true)",t)}if("annotate"===t.type){const n=u.Z.now();return T(`adding annotation {${t.label}: ${n}}`),{...e,annotations:e.annotations.concat([{label:t.label,timestamp:n}])}}if("binaryAnnotate"===t.type)return T(`adding binary annotation {${t.name}: ${String(t.value)}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,[t.name]:{value:t.value,type:t.annotationType}}};if("binaryAnnotateOperation"===t.type){const{value:n,type:a}=t.binaryAnnotationValueAndType;if(e.binaryAnnotations[t.name]){const r=e.binaryAnnotations[t.name].value||0;return T(`operating on binary annotation {\n          name: ${t.name}\n          pervious value: ${String(r)}\n          operand: ${String(n)}\n        }`),{...e,binaryAnnotations:{...e.binaryAnnotations,[t.name]:{value:n?t.operation(r,n):r,type:a}}}}return{...e,binaryAnnotations:{...e.binaryAnnotations,[t.name]:{value:n,type:a}}}}if("addSubspan"===t.type){T(`adding subspan {${t.name}}`);-1!==e.spans.findIndex((e=>e.name===t.name))&&T(`WARNING: adding duplicate subspan name {${t.name}}`);const n=t.id||(0,d.Z)();-1!==e.spans.findIndex((e=>e.id===n))&&T(`WARNING: adding duplicate subspan id {${t.name}: ${n}}`);let a=0;return t.startTime?a=t.startTime:e.startTime?a=e.startTime:T(`WARNING: adding subspan {${t.name}} without start time`),{...e,spans:[...e.spans,{name:t.name,id:n,startTime:a,endTime:t.endTime||1/0,annotationMap:{...t.annotations},binaryAnnotationMap:{...t.binaryAnnotations},parentId:t.parentId}]}}if("subspanStart"===t.type){var n;T(`starting subspan {${t.name}}`);-1!==e.spans.findIndex((e=>e.name===t.name))&&T(`WARNING: starting duplicate subspan name {${t.name}}`);const a=t.id||(0,d.Z)();-1!==e.spans.findIndex((e=>e.id===a))&&T(`WARNING: starting duplicate subspan id {${t.name}: ${a}}`);const r=t.parentName?null===(n=e.spans.find((e=>e.name===t.parentName)))||void 0===n?void 0:n.id:null;return{...e,spans:[...e.spans,{name:t.name,id:a,parentId:t.parentId||r,startTime:u.Z.now(),endTime:1/0,annotationMap:{...t.annotations},binaryAnnotationMap:{...t.binaryAnnotations}}]}}if("subspanStop"===t.type){if(T(`stopping subspan {${t.name}}`),!t.id){e.spans.reduce(((e,n)=>(n.name===t.name&&e.push(n),e)),[]).length>1&&(0,b.H)("duplicate_subspan_stop_name",{name:t.name,type:t.type})}const n=t.id?e.spans.findIndex((e=>e.id===t.id)):e.spans.findIndex((e=>e.name===t.name));return n>-1?(e.spans[n].endTime=u.Z.now(),t.annotations&&(e.spans[n].annotationMap={...e.spans[n].annotationMap,...t.annotations}),t.binaryAnnotations&&(e.spans[n].binaryAnnotationMap={...e.spans[n].binaryAnnotationMap,...t.binaryAnnotations})):(0,b.H)("invalid_subspan_stop_name",{name:t.name}),e}if("subspanUpdateName"===t.type){e.spans.reduce(((e,n)=>(n.name===t.currentName&&e.push(n),e)),[]).length>1&&(0,b.H)("duplicate_subspan_stop_name",{name:t.currentName,type:t.type});const n=e.spans.findIndex((e=>e.name===t.currentName));return n>-1?t.updateWhenStopwatchCompletes?e.spanNameUpdates=[...e.spanNameUpdates,{currentName:t.currentName,newName:t.newName}]:(T(`renaming subspan {${t.currentName}} to {${t.newName}}`),e.spans[n].name=t.newName):(0,b.H)("no_subspan_found_to_rename",{name:t.currentName}),e}if("stop"===t.type&&e.isTiming){const{startTime:n,metricId:a,pwtStaticContext:r,annotations:i,binaryAnnotations:p,isSampled:l,spans:b,traceId:E}=e;if(t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect(),l){const l=t.stopTime||u.Z.now(),v=[...b.map((t=>{t.endTime===1/0&&(t.endTime=l);const n=e.spanNameUpdates.findIndex((e=>t.name===e.currentName));return n>-1&&(T(`renaming subspan {${t.name}} to {${e.spanNameUpdates[n].newName}}`),t.name=e.spanNameUpdates[n].newName,e.spanNameUpdates=e.spanNameUpdates.filter((e=>e.newName!==t.name))),t}))];if(t.manualAndResourceSpans||0===b.length){const e=(0,d.Z)();v.push({name:"network_resources",id:e,startTime:n,endTime:l,annotationMap:{},binaryAnnotationMap:{},parentId:null},...(t.customStopwatchBuffer||[]).map((t=>(0,m.Z)((0,g.p)(t,[]),e))).filter(Boolean))}const A="initial_app_load"===a.navigationType&&(0,s.Z)(),I={type:"COMPLETE",traceId:E,startTime:n,endTime:l,spans:v,annotationMap:{...(0,o.Z)(i),...(0,f.jh)("browser_",A?(0,f.D3)(A):{}),...(0,f.jh)("mark_",(0,_.gQ)())},binaryAnnotationMap:(0,y.ng)({metricId:a,pwtStaticContext:r,binaryAnnotations:p,performanceResourceTimings:t.customStopwatchBuffer||[]})};(0,c.Z)({metricId:a,pwtStaticContext:r,result:I})}return{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,d.Z)(),spanNameUpdates:[]}}if("error"===t.type){const{error:n,stopwatchPerformanceObserver:a}=t;return n&&(0,b.H)(n),a&&a.disconnect(),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,d.Z)(),spanNameUpdates:[]}}if("abort"===t.type&&e.isTiming){t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect();const{metricId:n,pwtStaticContext:a}=e,r=t.reason||"";return(0,c.Z)({metricId:n,pwtStaticContext:a,result:{type:"ABORT",reason:r}}),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,d.Z)(),spanNameUpdates:[]}}}return e},v=({name:e,sampleRate:t,navigationType:n,manualAndResourceSpans:r=!1})=>{const o=(0,i.N5)(),s=(0,a.useRef)([]),c=(0,a.useRef)(null),[m,u]=(0,a.useReducer)(E,{isTiming:!1,name:e,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,d.Z)(),spanNameUpdates:[]});return o?{isTiming:m.isTiming,start:a=>{if(window.PerformanceObserver){const e=1e3;s.current=[],c.current=(0,p.Z)({entryTypes:["resource"]},(t=>{s.current=s.current.concat(t.getEntries()),s.current.length>e&&(s.current=s.current.slice(-e))}))}const r={type:"start",startTime:a,name:e,navigationType:n,pwtStaticContext:o,isSampled:!t||Math.random()<t};return u(r)},stop:e=>u({type:"stop",stopTime:e,stopwatchPerformanceObserver:c.current,customStopwatchBuffer:s.current,manualAndResourceSpans:r}),error:e=>{u({type:"error",stopwatchPerformanceObserver:c.current,error:e})},abort:e=>u({type:"abort",stopwatchPerformanceObserver:c.current,customStopwatchBuffer:s.current,reason:e}),annotate:(e,t,n=!1)=>u({type:"annotate",label:e,parentId:t,bypassIsTimingCheck:n}),binaryAnnotate:(e,t,n,a,r=!1)=>u({type:"binaryAnnotate",name:e,value:t,annotationType:n,parentId:a,bypassIsTimingCheck:r}),binaryAnnotateOperation:({name:e,binaryAnnotationValueAndType:t,operation:n,parentId:a,bypassIsTimingCheck:r=!1})=>u({type:"binaryAnnotateOperation",name:e,binaryAnnotationValueAndType:t,operation:n,parentId:a,bypassIsTimingCheck:r}),addSubspan:({name:e,startTime:t,endTime:n,annotations:a={},binaryAnnotations:r={},parentId:i=null,id:o=null,bypassIsTimingCheck:s=!1})=>u({type:"addSubspan",name:e,startTime:t,endTime:n,annotations:a,binaryAnnotations:r,parentId:i,id:o,bypassIsTimingCheck:s}),subspanStart:({name:e,annotations:t={},binaryAnnotations:n={},parentId:a=null,parentName:r=null,id:i=null,bypassIsTimingCheck:o=!1})=>u({type:"subspanStart",name:e,annotations:t,binaryAnnotations:n,parentId:a,parentName:r,id:i,bypassIsTimingCheck:o}),subspanStop:({name:e,annotations:t,binaryAnnotations:n,id:a,parentId:r,bypassIsTimingCheck:i=!1})=>u({type:"subspanStop",name:e,annotations:t,binaryAnnotations:n,id:a,parentId:r,bypassIsTimingCheck:i}),subspanUpdateName:({currentName:e,newName:t,bypassIsTimingCheck:n,updateWhenStopwatchCompletes:a=!0})=>u({type:"subspanUpdateName",currentName:e,newName:t,bypassIsTimingCheck:n,updateWhenStopwatchCompletes:a}),getSpans:(e,t)=>m.spans.filter((n=>n[e]===t)),getTraceId:()=>m.traceId}:null};var A=n(785893);const I=({name:e,sampleRate:t,abortOnUnloadOrClientNavigation:n=!0,navigationType:o,manualAndResourceSpans:s=!1})=>{const{Provider:p,useMaybeHook:d}=(0,r.Z)(`Stopwatch_${e}`);return{Provider:function({children:r}){const d=v({name:e,sampleRate:t,navigationType:o,manualAndResourceSpans:s}),c=(0,i.fM)(),m=c?c.time:0,u=(0,a.useRef)(!1),l=null==d?void 0:d.isTiming,_=(0,a.useCallback)((t=>{u.current?(u.current=!1,null==d||d.abort(t)):(0,b.A9)(`WARN.${e}.noTiming.abort`)}),[d]),g=(0,a.useCallback)(((e,t)=>{null==d||d.annotate(e,t)}),[d]),y=(0,a.useCallback)(((e,t,n,a)=>{null==d||d.binaryAnnotate(e,t,n,a)}),[d]),f=(0,a.useCallback)((({name:e,binaryAnnotationValueAndType:t,operation:n,parentId:a,bypassIsTimingCheck:r})=>{null==d||d.binaryAnnotateOperation({name:e,binaryAnnotationValueAndType:t,operation:n,parentId:a,bypassIsTimingCheck:r})}),[d]),T=(0,a.useCallback)((({name:e,startTime:t,endTime:n,annotations:a,binaryAnnotations:r,parentId:i,id:o,bypassIsTimingCheck:s})=>{null==d||d.addSubspan({name:e,startTime:t,endTime:n,annotations:a,binaryAnnotations:r,parentId:i,id:o,bypassIsTimingCheck:s})}),[d]),E=(0,a.useCallback)((({name:e,annotations:t,binaryAnnotations:n,parentId:a,parentName:r,id:i,bypassIsTimingCheck:o})=>{null==d||d.subspanStart({name:e,annotations:t,binaryAnnotations:n,parentId:a,parentName:r,id:i,bypassIsTimingCheck:o})}),[d]),I=(0,a.useCallback)((({name:e,annotations:t,binaryAnnotations:n,id:a,parentId:r,bypassIsTimingCheck:i})=>{null==d||d.subspanStop({name:e,annotations:t,binaryAnnotations:n,id:a,parentId:r,bypassIsTimingCheck:i})}),[d]),C=(0,a.useCallback)((({currentName:e,newName:t,bypassIsTimingCheck:n,updateWhenStopwatchCompletes:a})=>{null==d||d.subspanUpdateName({currentName:e,newName:t,bypassIsTimingCheck:n,updateWhenStopwatchCompletes:a})}),[d]),h=(0,a.useCallback)(((e,t)=>d?d.getSpans(e,t):[]),[d]),N=(0,a.useCallback)((()=>d?d.getTraceId():0),[d]),w=(0,a.useCallback)((t=>{u.current?(u.current=!1,null==d||d.error(t)):(0,b.A9)(`WARN.${e}.noTiming.error`)}),[d]),R=(0,a.useCallback)((e=>{u.current&&(null==d||d.abort("duplicated_init_stopwatch_action")),u.current=!0,null==d||d.start(e)}),[d]),D=(0,a.useCallback)((t=>{u.current?(u.current=!1,null==d||d.stop(t)):(0,b.A9)(`WARN.${e}.noTiming.stop`)}),[d]);(0,a.useEffect)((()=>()=>{n&&_("unloadOrClientNavigation")}),[m]);const G=(0,a.useMemo)((()=>({isTiming:l,abort:_,addAnnotation:g,addBinaryAnnotation:y,binaryAnnotationOperation:f,addSubspan:T,subspanStart:E,subspanStop:I,getSpans:h,getTraceId:N,updateSubspanName:C,stop:D,error:w,start:R})),[l,_,g,y,f,T,E,I,h,N,C,D,w,R]);return(0,A.jsx)(p,{value:G,children:r})},useHook:d}}},729524:(e,t,n)=>{n.d(t,{Z:()=>a});const a=e=>{let t={};e.forEach((({label:e,timestamp:n})=>{t={...t,[e]:(t[e]||[]).concat([n])}}));let n=Object.freeze({});return Object.keys(t).forEach((e=>{(t[e]||[]).forEach(((t,a)=>{const r=a?`${e}_${a+1}`:e;n={...n,[r]:t}}))})),n}},224496:(e,t,n)=>{n.d(t,{Cc:()=>m,Gf:()=>_,LX:()=>r,Rf:()=>p,YL:()=>s,ap:()=>i,h8:()=>c,kF:()=>u,pE:()=>d,s5:()=>l,yR:()=>o});var a=n(883119);const r={w:9,h:16},i=r.w/r.h,o=8,s=10,p=5e3;function d(e,t=1){return{x:(null!=e?e:24)/5,y:(null!=e?e:24)*(t-1)}}const c={COMMENT_REPLY_STICKER:"story_pin_comment_reply_block",GENERIC_STICKER:"story_pin_generic_interactive_sticker_block",HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MENTION_STICKER:"story_pin_mention_sticker_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",PRODUCT_STICKER:"story_pin_product_sticker_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",VTO_MAKEUP_STICKER:"story_pin_virtual_try_on_makeup_sticker_block"},m={alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1,font:{default_size:28,id:"1",key:"Graphik-Regular.otf",letter_spacing:-.4,line_height:1.25,name:"Teaspoon",url:"https://s.pinimg.com/story_pins/fonts/Graphik-Regular.otf"},font_size:28},u=new a.Ry(5),l=new a.H3([u]),_=new a.H3([l])},139405:(e,t,n)=>{n.d(t,{pb:()=>b,nf:()=>T,lV:()=>E});var a=n(667294),r=n(702664),i=n(6637),o=n(618446),s=n.n(o),p=n(682492),d=n.n(p);const c={feature_map:Object.freeze({})},m=(e,t)=>{const n={...d()({},e,t),...t.reaction_counts?{reaction_counts:t.reaction_counts}:Object.freeze({}),...t.tags?{tags:t.tags}:Object.freeze({}),...t.tagged_users?{tagged_users:t.tagged_users}:Object.freeze({})};return s()(e,n)?e:n},u=(e=c,t)=>{if("FETCH_COMPLETE"===t.type){const{payload:{resource:n}}=t,a=t.payload.response.resource_response.data;if("AggregatedCommentFeedResource"===n||"AggregatedCommentReplyFeedResource"===n||"DidItCommentsResource"===n){const t=(a||[]).reduce(((t,n)=>(t[n.id]=m(e[n.id],n),t)),{});return{...e,...t}}if("UnifiedCommentsResource"===n&&a&&a.length>0){const t=a.filter((e=>"aggregatedcomment"===e.type)).reduce(((t,n)=>(t[n.id]=m(e[n.id],n),t)),{});return{...e,...t}}if("UnifiedCommentsPreviewResource"===n&&a&&a.length>0){const t=a[0].aggregated_comment,n=t?{[t.id]:m(e[t.id],t)}:{},r=a[0].creator_reply,i=r?{[r.id]:m(e[r.id],r)}:{};return{...e,...n,...i}}if("AggregatedCommentFeaturesResource"===n&&a&&Object.keys(a).length>0)return{...e,feature_map:a}}else{if("AGGREGATED_COMMENT_CREATED"===t.type){const{payload:{aggregatedComment:n}}=t;return n.id?{...e,[n.id]:n}:e}if("AGGREGATED_COMMENT_DELETED"===t.type||"AGGREGATED_COMMENT_HIDDEN"===t.type){const{payload:{aggregatedCommentId:n}}=t,a={...e};return delete a[n],a}if("AGGREGATED_COMMENT_HIDDEN_FOR_USER"===t.type){const{payload:{userId:n}}=t;return Object.fromEntries(Object.entries(e).filter((e=>{var t;return(null===(t=e[1].user)||void 0===t?void 0:t.id)!==n})))}if("AGGREGATED_COMMENT_UPDATED"===t.type){const{payload:{data:n}}=t;return{...e,[n.id]:m(e[n.id],n)}}if("AGGREGATED_COMMENT_LIKE_TOGGLED"===t.type){const{payload:{data:n}}=t,a=e[n.id],r=a.reaction_counts[1]||0,i={1:n.reaction_by_me?r+1:r-1},o={...a,reaction_by_me:n.reaction_by_me,reaction_counts:i};return{...e,[n.id]:o}}if("AGGREGATED_COMMENT_HELPFUL_TOGGLED"===t.type){const{payload:{data:n}}=t,a=e[n.id],r=a.helpful_count||0,i=n.marked_helpful_by_me?r+1:r-1,o={...a,marked_helpful_by_me:n.marked_helpful_by_me,helpful_count:i};return{...e,[n.id]:o}}if("AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED"===t.type){const{payload:{data:n}}=t,a={...e[n.aggregated_comment_id],highlighted_by_pin_owner:n.is_highlighted};return{...e,[n.aggregated_comment_id]:a}}if("AGGREGATED_COMMENT_FEATURES_UPDATED"===t.type){const{payload:{data:{featureMap:n}}}=t;return{...e,feature_map:{...e.feature_map,...n}}}if("UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT"===t.type){const{payload:{increment:n,id:a}}=t,r=e[a],i={...r,comment_count:r.comment_count+n};return{...e,[a]:i}}if("DELETE_COMMENT_MENTION"===t.type){const{payload:{aggregatedCommentId:n,tagged_users:a}}=t,r={...e[n],tagged_users:a};return{...e,[n]:r}}}return e};var l=n(425288),_=n(505920),g=n(785893);const{Provider:y,useHook:f}=(0,l.Z)("AggregatedComments");function b({children:e}){const t=(0,r.useSelector)((({resources:e})=>e.UnifiedCommentsResource));let n=c;t&&Object.values(t).forEach((e=>{var t;const a=null===(t=e.data)||void 0===t?void 0:t.filter((e=>"aggregatedcomment"===e.type)),r=null==a?void 0:a.reduce(((e,t)=>(e[t.id]=m(n[t.id],t),e)),{});n={...n,...r}}));const[i,o]=(0,a.useReducer)(u,n),s=e=>{o({type:"FETCH_COMPLETE",payload:e})};(0,_.Z8)("AggregatedCommentFeaturesResource",s),(0,_.my)("AggregatedCommentFeaturesResource",s),(0,_.Z8)("AggregatedCommentFeedResource",s),(0,_.my)("AggregatedCommentFeedResource",s),(0,_.Z8)("AggregatedCommentReplyFeedResource",s),(0,_.my)("AggregatedCommentReplyFeedResource",s),(0,_.Z8)("DidItCommentsResource",s),(0,_.my)("DidItCommentsResource",s),(0,_.Z8)("UnifiedCommentsPreviewResource",s),(0,_.my)("UnifiedCommentsPreviewResource",s),(0,_.Z8)("UnifiedCommentsResource",s),(0,_.my)("UnifiedCommentsResource",s);const p=(0,a.useMemo)((()=>({aggregatedComments:i,dispatch:o})),[i,o]);return(0,g.jsx)(y,{value:p,children:e})}function T(){const{dispatch:e}=f();return(0,a.useMemo)((()=>({aggregatedCommentCreated(t,n){e({type:"AGGREGATED_COMMENT_CREATED",payload:{parentId:t,aggregatedComment:n}})},aggregatedCommentDeleted:(t,n)=>{e({type:"AGGREGATED_COMMENT_DELETED",payload:{parentId:t,aggregatedCommentId:n}})},aggregatedCommentHidden:t=>{e({type:"AGGREGATED_COMMENT_HIDDEN",payload:{aggregatedCommentId:t}})},aggregatedCommentsHiddenForUser:t=>{e({type:"AGGREGATED_COMMENT_HIDDEN_FOR_USER",payload:{userId:t}})},flagAggregatedComment:async({commentId:e,reason:t,detailedReasons:n})=>{const a={commentId:e,reason:t,detailedReasons:n};return i.Z.create("AggregatedCommentFlagResource",a).callCreate()},deleteCommentMention:async t=>{var n;const{resource_response:a}=await i.Z.create("MentionsResource",{aggregatedCommentId:t,field_set_key:"comment"}).callDelete(),r=null!==(n=null==a?void 0:a.data)&&void 0!==n?n:{};e({type:"DELETE_COMMENT_MENTION",payload:{aggregatedCommentId:r.id,tagged_users:r.tagged_users}})},toggleAggregatedCommentHelpful:({aggregatedCommentId:t,isMarkedHelpfulByMe:n})=>{const a=i.Z.create("HelpfulResource",{helpfulModelType:1,objectId:t});n?a.callDelete({showError:!1}):a.callCreate({showError:!1}),e({type:"AGGREGATED_COMMENT_HELPFUL_TOGGLED",payload:{data:{id:t,marked_helpful_by_me:!n}}})},toggleAggregatedCommentHighlight:async({aggregatedCommentId:t,pinId:n,isHighlighted:a})=>{const r=i.Z.create("AggregatedCommentHighlightResource",{aggregatedCommentId:t,pinId:n});a?await r.callDelete({showError:!1}):await r.callCreate({showError:!1}),e({type:"AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED",payload:{data:{aggregated_comment_id:t,pin_id:n,is_highlighted:!a}}})},toggleAggregatedCommentLike:({aggregatedCommentId:t,isLikedByMe:n})=>{const a=i.Z.create("AggregatedCommentLikeResource",{aggregatedCommentId:t});n?a.callDelete({showError:!1}):a.callCreate({showError:!1}),e({type:"AGGREGATED_COMMENT_LIKE_TOGGLED",payload:{data:{id:t,reaction_by_me:n?0:1}}})},updateAggregatedComment:async({commentId:t,force:n,orbacSubjectId:a,tags:r,text:o})=>{var s;const{resource_response:p}=await i.Z.create("AggregatedCommentResource",{commentId:t,force:n,tags:r,text:o,...a?{orbacSubjectId:a}:{}}).callUpdate({showError:!1}),{tagged_users:d}=null!==(s=null==p?void 0:p.data)&&void 0!==s?s:{},c=d.map((e=>({...e})));e({type:"AGGREGATED_COMMENT_UPDATED",payload:{data:{id:t,tagged_users:c,tags:JSON.parse(r),text:o}}})},updateAggregatedCommentFeatures:async({userId:t,featureMap:n})=>{var a;const{resource_response:r}=await i.Z.create("AggregatedCommentFeaturesResource",{userId:t,featureMap:n}).callUpdate({showError:!1}),o=null!==(a=null==r?void 0:r.data)&&void 0!==a?a:Object.freeze({});e({type:"AGGREGATED_COMMENT_FEATURES_UPDATED",payload:{data:{featureMap:o}}})},updateCommentCount:(t,n)=>{e({type:"UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT",payload:{increment:n,id:t}})}})),[e])}function E(){const{aggregatedComments:e}=f();return e}},550448:(e,t,n)=>{n.d(t,{e:()=>r,p:()=>i});var a=n(425288);const{Provider:r,useHook:i}=(0,a.Z)("headerButtonContext")},924114:(e,t,n)=>{n.d(t,{H8:()=>l,Ut:()=>u,fr:()=>m});var a=n(667294),r=n(839377),i=n(311541),o=n(425288),s=n(785893);const p=()=>n.e(67891).then(n.bind(n,367891)),{Provider:d,useHook:c}=(0,o.Z)("IdeaPin");function m({children:e}){const[t,n]=(0,i.Z)(p,r.Z),o=(0,a.useMemo)((()=>({dispatch:n,ideaPin:t})),[n,t]);return(0,s.jsx)(d,{value:o,children:e})}function u(){const{dispatch:e}=c();return(0,a.useMemo)((()=>({setIdeaPinActivePage:t=>{e({type:"IDEA_PIN_ACTIVE_PAGE",payload:{activePage:t}})},setIdeaPinDynamicWidth:t=>{e({type:"IDEA_PIN_DYNAMIC_WIDTH",payload:{dynamicWidth:t}})}})),[e])}function l(){const{ideaPin:e}=c();return e}},839377:(e,t,n)=>{n.d(t,{Z:()=>a});const a={activePage:0,dynamicWidth:0}},878552:(e,t,n)=>{n.d(t,{P:()=>u,Q:()=>m});var a=n(667294),r=n(784590);const i=()=>(0,r.Z)({name:"ApiResource",options:{url:"/v3/users/me/",data:{fields:["user.full_name","user.email","user.is_name_eligible_for_lead_form_autofill","user.is_email_eligible_for_lead_form_autofill"]}}});var o=n(425288);const s={fullName:"",email:"",phoneNumber:"",zipCode:"",formSubmissions:{}};function p(e=s,t){switch(t.type){case"AUTOFILL_LEADGEN_USER_INFO":return{...e,fullName:t.payload.fullName,email:t.payload.email};case"SET_LEADGEN_USER_INFO":return{...e,formSubmissions:t.payload.formSubmissions};default:return e}}var d=n(785893);const{Provider:c,useHook:m}=(0,o.Z)("LeadGen");function u({children:e}){const{isLoaded:t,data:n}=i(),[r,o]=(0,a.useReducer)(p,s),m=(0,a.useCallback)((e=>o({type:"SET_LEADGEN_USER_INFO",payload:e})),[]);(0,a.useEffect)((()=>{if(t){const e={...s,fullName:null!=n&&n.is_name_eligible_for_lead_form_autofill?n.full_name:"",email:null!=n&&n.is_email_eligible_for_lead_form_autofill?n.email:""};o({type:"AUTOFILL_LEADGEN_USER_INFO",payload:e})}}),[t,n]);const u=(0,a.useMemo)((()=>({updateLeadGenInfo:m,leadGen:r})),[m,r]);return(0,d.jsx)(c,{value:u,children:e})}},94089:(e,t,n)=>{n.d(t,{G:()=>u,Kl:()=>l,vo:()=>m});var a=n(667294),r=n(311541),i=n(425288),o=n(505920),s=n(785893);const p=()=>n.e(18870).then(n.bind(n,218870)),{Provider:d,useHook:c}=(0,i.Z)("NativeEngagements");function m({children:e}){const[t,n]=(0,r.Z)(p,[]),i=e=>{n({type:"FETCH_COMPLETE",payload:e})};(0,o.Z8)("NativeInteractionsResource",i),(0,o.my)("NativeInteractionsResource",i);const c=(0,a.useMemo)((()=>({dispatch:n,nativeEngagements:t})),[n,t]);return(0,s.jsx)(d,{value:c,children:e})}function u(){const{dispatch:e}=c();return(0,a.useMemo)((()=>({nativeEngagementsHiddenForUser:t=>{e({type:"NATIVE_ENGAGEMENT_HIDDEN_FOR_USER",payload:{userId:t}})}})),[e])}function l(){const{nativeEngagements:e}=c();return e}},205992:(e,t,n)=>{n.d(t,{Cp:()=>l,GT:()=>p,V6:()=>o,W6:()=>_,_L:()=>u,fm:()=>s,hT:()=>d});var a=n(56528),r=n(6637),i=n(379725);function o(e,t){return{type:"UPDATE_USER_SOCIAL_NETWORK",payload:{socialNetworkName:e,connected:t}}}const s=e=>({type:"USER_DOMAIN_VERIFIED",payload:{verifiedWebsite:e}}),p=e=>({type:"USER_DOMAIN_UNVERIFIED",payload:{verifiedWebsite:e}});function d(e){return{type:"UPDATE_HAS_QUICKSAVE_BOARD",payload:{createdQuicksaveBoard:e}}}const c=(e,t,n)=>a=>{a({type:"USER_SETTING_CHANGE",payload:{id:e,field:t,value:n}})},m=e=>{const t=e.split(" ");return{first_name:t[0],last_name:t[1]}},u=({field:e,value:t,onSettingSavedHn:n,showErrorHn:a,surfaceTag:o,userId:s})=>(p,d)=>{const u=d().users[s],l={user_id:s,surface_tag:o};if("full_name"===e)if(u.is_partner)l.business_name=t;else{const e=m(t);l.first_name=e.first_name,l.last_name=e.last_name||""}else l[e]=t;r.Z.create("UserSettingsResource",l).callUpdate().then((()=>{if("profile_image_url"===e)p((0,i.b)("UserResource",{options:l}));else if("full_name"===e)if(u.is_partner)p(c(s,"first_name",t));else{const e=m(t);p(c(s,"first_name",e.first_name)),p(c(s,"last_name",e.last_name))}!u.is_partner||"account_type"!==e&&"contact_name"!==e?p(c(s,e,t)):p(((e,t,n)=>a=>{a({type:"USER_PARTNER_SETTING_CHANGE",payload:{id:e,field:t,value:n}})})(s,e,t)),n()}),a)},l=(e,t,n,r,i)=>()=>{(0,a.Z)({new:t,new_confirm:n,old:e}).then(r,i)},_=(e,t,n,a,i,o)=>s=>{s(c(e,`${t}.${n}`,a));let p={},d="EmailSettingsResource";void 0!==i?(p={section:t,option:n,value:a,od:i.od,user_id:i.user_id},d="UnsubEmailSettingsResource"):p={section:t,option:n,value:a},r.Z.create(d,p).callUpdate().then(o).catch((()=>s(c(e,`${t}.${n}`,!a))))}},829084:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(66743);function r(e){var t;return{defaultStyle:0,fontFamily:null!==(t=e.name)&&void 0!==t?t:"",fontGroup:a.gu,fontOverrides:{letterSpacing:e.letter_spacing,lineHeight:e.line_height},format:"truetype",id:e.id,styles:[{fontStyle:"",fontUrl:e.url,fontWeight:"normal",name:"normal"}]}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/70263-e9b5bf819a5e6ef3.mjs.map